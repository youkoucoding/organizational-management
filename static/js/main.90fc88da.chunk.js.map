{"version":3,"sources":["state/types.ts","state/reducer.ts","state/context.ts","components/header/Header.tsx","components/footer/Links.tsx","components/footer/Footer.tsx","components/sidebar/SideBar.tsx","components/buttons/ToggleButton.tsx","components/buttons/AddMemberButton.tsx","components/buttons/AddOrgButton.tsx","components/cards/Card.tsx","components/cards/CardTitle.tsx","components/table/TableHead.tsx","components/modal/DeleteConfirmModal.tsx","components/modal/EditMemberModal.tsx","components/table/DisplayRow.tsx","components/table/Table.tsx","utils/getRenderData.ts","container/main/Main.tsx","container/main/MainWrapper.tsx","components/layout/Layout.tsx","utils/dispatchHelpers.ts","utils/getCompositeData.ts","container/contextProvider/AppContextProvider.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["ACTION","initialState","status","error","undefined","data","reducer","state","action","type","FetchDataSuccess","payload","FetchDataFailure","EditMember","map","org","members","member","index","id","DELETE_MEMBER","filter","GlobalContext","React","dispatch","Header","className","FooterLink","onClick","children","Footer","Date","getFullYear","href","alert","size","SideBar","icon","SideIcon","ToggleButton","showChildren","AddMemberButton","AddOrgButton","Card","renderData","CardTitle","title","TableHead","scope","DeleteConfirmModal","showDeleteConfirm","setShowDeleteConfirm","cancelButtonRef","Root","show","as","initialFocus","onClose","Child","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","Overlay","aria-hidden","Title","handleConfirmDelete","ref","EditMemberModal","showMemberModal","setShowMemberModal","useForm","defaultValues","name","age","register","handleSubmit","errors","formState","onSubmit","htmlFor","required","maxLength","min","max","value","autoComplete","DisplayRow","showEditMemberModal","setShowEditMemberModal","toLowerCase","Table","setShowChildren","showAddMemberModal","setShowAddMemberModal","handleChildrenShow","handleAddMemberModalShow","nestedTable","child","parent","length","getRenderData","orgs","element","Main","renderOrgs","readyRenderDatas","setReadyRenderDatas","MainWrapper","Layout","fetchDataDispatch","Number","getCompositeData","_orgs","_members","i","arr","j","result","BASE_URL","process","AppContextProvider","Promise","all","axios","get","then","response","JSON","parse","stringify","catch","Provider","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"6KAUYA,E,wDAAAA,K,sCAAAA,E,sCAAAA,E,yBAAAA,E,uBAAAA,E,+BAAAA,M,KCLL,IAAMC,EAAsB,CACjCC,OAAQ,YACRC,WAAOC,EACPC,KAAM,IAGKC,EAAU,SAACC,EAAcC,GACpC,OAAQA,EAAOC,MACb,KAAKT,EAAOU,iBACV,OAAO,2BACFH,GADL,IAEEL,OAAQ,UACRC,MAAO,GACPE,KAAMG,EAAOG,UAGjB,KAAKX,EAAOY,iBACV,OAAO,2BACFL,GADL,IAEEL,OAAQ,UACRC,MAAOK,EAAOG,QACdN,KAAM,KAGV,KAAKL,EAAOa,WACV,OAAO,2BACFN,GADL,IAIEF,KAAME,EAAMF,KAAKS,KAAI,SAACC,GAAD,yBAAC,eACjBA,GADgB,IAEnBC,QAAO,UAAED,EAAIC,eAAN,aAAE,EAAaF,KAAI,SAACG,EAAQC,GAAT,OACxBD,EAAOE,KAAOX,EAAOG,QAAQQ,GACxBJ,EAAIC,QAAQE,GAASV,EAAOG,QAC7BI,EAAIC,QAAQE,aAMxB,KAAKlB,EAAOoB,cACV,OAAO,2BACFb,GADL,IAGEF,KAAME,EAAMF,KAAKS,KAAI,SAACC,GAAD,yBAAC,eACjBA,GADgB,IAEnBC,QAAO,UAAED,EAAIC,eAAN,aAAE,EAAaK,QACpB,SAACJ,GAAD,OAAYA,EAAOE,KAAOX,EAAOG,QAAQQ,aAKjD,QACE,OAAOZ,IChDAe,EAAgBC,gBAAoC,CAC/DhB,MAAON,EACPuB,SAAU,e,OCVCC,EAAmB,WAC9B,OACE,qBAAKC,UAAU,uIAAf,SACE,sBAAKA,UAAU,iFAAf,UACE,qBAAKA,UAAU,+CAAf,oCAGA,qBAAKA,UAAU,uDAAf,SACE,qBAAKA,UAAU,6DCHZC,EAAwC,SAAC,GAG/C,IAFLC,EAEI,EAFJA,QACAC,EACI,EADJA,SAEA,OACE,wBACED,QAASA,EACTF,UAAS,uHAFX,SAIGG,K,QCbMC,EAAS,WACpB,OACE,wBAAQJ,UAAU,iFAAlB,SACE,qBAAKA,UAAU,oBAAf,SACE,sBAAKA,UAAU,gEAAf,UACE,qBAAKA,UAAU,wBAAf,SACE,sBAAKA,UAAU,4DAAf,6BACe,IAAIK,MAAOC,cACxB,mBACEC,KAAK,IACLP,UAAU,4GAFZ,4CAQJ,qBAAKA,UAAU,qCAAf,SACE,qBAAIA,UAAU,yDAAd,UACE,6BACE,cAAC,EAAD,CAAYE,QAAS,kBAAMM,MAAM,cAAjC,SACE,cAAC,IAAD,CAAUC,KAAM,SAGpB,6BACE,cAAC,EAAD,CAAYP,QAAS,kBAAMM,MAAM,cAAjC,SACE,cAAC,IAAD,CAAWC,KAAM,sB,QCxBtBC,EAAU,WACrB,OACE,uBAAOV,UAAU,kJAAjB,SACE,sBAAKA,UAAU,kGAAf,UAEE,mBACEO,KAAK,IACLP,UAAU,sDAFZ,SAIE,cAAC,IAAD,CAAOS,KAAM,OAGf,sBAAKT,UAAU,yLAAf,UACE,cAAC,EAAD,CAAUW,KAAM,cAAC,IAAD,CAASF,KAAM,OAC/B,cAAC,EAAD,CAAUE,KAAM,cAAC,IAAD,CAAcF,KAAM,OACpC,cAAC,EAAD,CAAUE,KAAM,cAAC,IAAD,CAAeF,KAAM,gBAWzCG,EAAW,SAAC,GAAD,IAAGD,EAAH,EAAGA,KAAH,OACf,qBAAKX,UAAU,eAAf,SAA+BW,KC7BpBE,EAAe,SAAC,GAAiD,IAA/CC,EAA8C,EAA9CA,aAC7B,OACE,sBAAKd,UAAU,iBAAf,UACE,qBACEA,UAAS,UACPc,EAAe,YAAc,KADtB,sGADX,SAKE,cAAC,IAAD,CAAoBL,KAAM,OAE5B,sBACET,UAAS,UACPc,EAAe,KAAO,sBADf,sKADX,uCCVOC,EAAkB,WAC7B,OACE,qBAAKf,UAAU,iBAAf,SACE,sBAAKA,UAAU,uFAAf,UACE,cAAC,IAAD,CAAYS,KAAM,KAClB,sBACET,UAAS,kNADX,kC,QCLKgB,EAAe,WAC1B,OACE,sBAAKhB,UAAU,iBAAf,UACE,qBAAKA,UAAU,kFAAf,SACE,cAAC,IAAD,CAAuBS,KAAM,OAE/B,sBACET,UAAS,mNADX,iCCHOiB,EAAO,SAAC,GAAyD,IAAvDC,EAAsD,EAAtDA,WACrB,OACE,sBAAKlB,UAAU,gEAAf,UACE,qBAAKA,UAAU,OAAf,SACE,cAAC,EAAD,MAEF,cAAC,EAAD,CAAOkB,WAAYA,QCXZC,EAAY,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,MAC1B,OACE,qBAAKpB,UAAU,+DAAf,SACGoB,KCDMC,EAAY,WACvB,OACE,qBAAIrB,UAAU,iCAAd,UACE,oBACEsB,MAAM,MACNtB,UAAU,kFAFZ,kBAMA,oBACEsB,MAAM,MACNtB,UAAU,oFAFZ,iBAMA,oBACEsB,MAAM,MACNtB,UAAU,oFAFZ,qBAMA,oBACEsB,MAAM,MACNtB,UAAU,oFAFZ,4BAOA,oBACEsB,MAAM,MACNtB,UAAU,oFAFZ,wB,wBClBOuB,EAAqB,SAAC,GAIrB,IAHZC,EAGW,EAHXA,kBACAC,EAEW,EAFXA,qBACAhC,EACW,EADXA,GAEQK,EAAaD,aAAiBD,GAA9BE,SAOF4B,EAAkB7B,SAAa,MACrC,OACE,cAAC,IAAW8B,KAAZ,CAAiBC,KAAMJ,EAAmBK,GAAIhC,WAA9C,SACE,cAAC,IAAD,CACEgC,GAAG,MACH7B,UAAU,qCACV8B,aAAcJ,EACdK,QAASN,EAJX,SAME,sBAAKzB,UAAU,yFAAf,UACE,cAAC,IAAWgC,MAAZ,CACEH,GAAIhC,WACJoC,MAAM,wBACNC,UAAU,YACVC,QAAQ,cACRC,MAAM,uBACNC,UAAU,cACVC,QAAQ,YAPV,SASE,cAAC,IAAOC,QAAR,CAAgBvC,UAAU,iEAG5B,sBACEA,UAAU,qDACVwC,cAAY,OAFd,oBAMA,cAAC,IAAWR,MAAZ,CACEH,GAAIhC,WACJoC,MAAM,wBACNC,UAAU,uDACVC,QAAQ,yCACRC,MAAM,uBACNC,UAAU,yCACVC,QAAQ,uDAPV,SASE,sBAAKtC,UAAU,2JAAf,UACE,qBAAKA,UAAU,yCAAf,SACE,sBAAKA,UAAU,mCAAf,UACE,qBAAKA,UAAU,mHAAf,SACE,cAAC,IAAD,CACEA,UAAU,uBACVwC,cAAY,WAGhB,sBAAKxC,UAAU,gDAAf,UACE,cAAC,IAAOyC,MAAR,CACEZ,GAAG,KACH7B,UAAU,8CAFZ,2BAMA,qBAAKA,UAAU,OAAf,SACE,mBAAGA,UAAU,wBAAb,kGAQR,sBAAKA,UAAU,2DAAf,UACE,wBACEjB,KAAK,SACLiB,UAAU,sRACVE,QAAS,kBAvEG,SAACT,GAC3BK,EAAS,CAAEf,KAAMT,EAAOoB,cAAeT,QAAS,CAAEQ,QAClDgC,GAAqB,GAqEQiB,CAAoBjD,IAHrC,oBAOA,wBACEV,KAAK,SACLiB,UAAU,oSACVE,QAAS,kBAAMuB,GAAqB,IACpCkB,IAAKjB,EAJP,oC,QCjFHkB,EAAkB,SAAC,GAIlB,IAAD,EAHXC,EAGW,EAHXA,gBACAC,EAEW,EAFXA,mBACAvD,EACW,EADXA,OAEQO,EAAaD,aAAiBD,GAA9BE,SADG,EAQPiD,YAAQ,CACVC,cAAe,CACbvD,GAAIF,EAAOE,GACXwD,KAAM1D,EAAO0D,KACbC,IAAK3D,EAAO2D,IACZ1E,OAAQe,EAAOf,UARjB2E,EALS,EAKTA,SACAC,EANS,EAMTA,aACaC,EAPJ,EAOTC,UAAaD,OAeT3B,EAAkB7B,SAAa,MACrC,OACE,cAAC,IAAW8B,KAAZ,CAAiBC,KAAMiB,EAAiBhB,GAAIhC,WAA5C,SACE,cAAC,IAAD,CACEgC,GAAG,MACH7B,UAAU,qCACV8B,aAAcJ,EACdK,QAASe,EAJX,SAME,sBAAK9C,UAAU,yFAAf,UACE,cAAC,IAAWgC,MAAZ,CACEH,GAAIhC,WACJoC,MAAM,wBACNC,UAAU,YACVC,QAAQ,cACRC,MAAM,uBACNC,UAAU,cACVC,QAAQ,YAPV,SASE,cAAC,IAAOC,QAAR,CAAgBvC,UAAU,iEAI5B,sBACEA,UAAU,qDACVwC,cAAY,OAFd,oBAMA,cAAC,IAAWR,MAAZ,CACEH,GAAIhC,WACJoC,MAAM,wBACNC,UAAU,uDACVC,QAAQ,yCACRC,MAAM,uBACNC,UAAU,yCACVC,QAAQ,uDAPV,SASE,qBAAKtC,UAAU,6JAAf,SACE,qBAAKA,UAAU,6BAAf,SACE,uBAAMuD,SAAUH,GA7C+B,SAACzE,GAC5DmE,GAAmB,GACnBhD,EAAS,CAAEf,KAAMT,EAAOa,WAAYF,QAASN,OA2CjC,UACE,sBAAKqB,UAAU,wCAAf,UACG,qBACA,KACD,sBAAMA,UAAU,UAAhB,SAA2BT,EAAOE,QAEpC,sBAAKO,UAAU,uCAAf,UACE,qBAAKA,UAAU,4BAAf,SACE,sBAAKA,UAAU,yBAAf,UACE,sBAAKA,UAAU,2BAAf,UACE,uBACEwD,QAAQ,OACRxD,UAAU,0CAFZ,SAIyB,cAAtB,UAAAqD,EAAOJ,YAAP,eAAalE,MACZ,sBAAMiB,UAAU,2BAAhB,8BAIA,SAGJ,+CACEjB,KAAK,OACLU,GAAG,QACC0D,EAAS,OAAQ,CACnBM,UAAU,EACVC,UAAW,MALf,IAOE1D,UAAU,wHAId,sBAAKA,UAAU,2BAAf,UACE,uBACEwD,QAAQ,MACRxD,UAAU,0CAFZ,SAIGqD,EAAOH,IACN,sBAAMlD,UAAU,2BAAhB,0CAIA,QAGJ,+CACEjB,KAAK,SACLU,GAAG,OACC0D,EAAS,MAAO,CAClBM,UAAU,EACVE,IAAK,GACLC,IAAK,OANT,IAQE5D,UAAU,wHAId,sBAAKA,UAAU,2BAAf,UACE,uBACEwD,QAAQ,SACRxD,UAAU,0CAFZ,oBAMA,iDACEP,GAAG,UACC0D,EAAS,WAFf,IAGEnD,UAAU,+JAHZ,UAKE,wBAAQ6D,MAAM,YAAd,uBACA,wBAAQA,MAAM,cAAd,gCAIJ,sBAAK7D,UAAU,2BAAf,UACE,uBACEwD,QAAQ,OACRxD,UAAU,0CAFZ,kBAMA,yBACEP,GAAG,OACHwD,KAAK,OACLa,aAAa,GACb9D,UAAU,+JAJZ,UAME,4CACA,+DAKR,qBAAKA,UAAU,0CAAf,SACE,wBACEjB,KAAK,SACLiB,UAAU,+NAFZ,wCCzKT+D,EAAa,SAAC,GAAyC,IAAD,EAAtCxE,EAAsC,EAAtCA,OAAsC,EACfM,YAAe,GADA,mBAC1D2B,EAD0D,KACvCC,EADuC,OAEX5B,YAAe,GAFJ,mBAE1DmE,EAF0D,KAErCC,EAFqC,KAIjE,OACE,qBAAIjE,UAAU,4CAAd,UACE,oBAAIA,UAAU,0CAAd,SACE,mBAAGA,UAAU,6DAAb,SACGT,EAAO0D,SAGZ,oBAAIjD,UAAU,oDAAd,SACE,mBAAGA,UAAU,6DAAb,SACGT,EAAO2D,QAGZ,oBAAIlD,UAAU,oDAAd,SACE,mBAAGA,UAAU,6DAAb,SACoC,eAAjC,UAAAT,EAAOf,cAAP,eAAe0F,eACd,sBAAMlE,UAAU,iGAAhB,uBAIA,sBAAMA,UAAU,6FAAhB,6BAMN,oBAAIA,UAAU,oDAAd,SACE,mBAAGA,UAAU,6DAAb,sBAIF,oBAAIA,UAAU,oDAAd,SACE,sBAAKA,UAAU,sDAAf,UACE,wBACEA,UAAU,iGACVjB,KAAK,SACLmB,QAAS,kBAAM+D,GAAuB,IAHxC,kBAOA,wBACEjE,UAAU,6FACVjB,KAAK,SACLmB,QAAS,kBAAMuB,GAAqB,IAHtC,oBAOA,cAAC,EAAD,CACEoB,gBAAiBmB,EACjBlB,mBAAoBmB,EACpB1E,OAAQA,IAEV,cAAC,EAAD,CACEiC,kBAAmBA,EACnBC,qBAAsBA,EACtBhC,GAAIF,EAAOE,cCvDV0E,EAAQ,SAARA,EAAS,GAAyD,IAAD,EAAtDjD,EAAsD,EAAtDA,WAAsD,EAEpCrB,YAAe,GAFqB,mBAErEiB,EAFqE,KAEvDsD,EAFuD,OAIxBvE,YAAe,GAJS,mBAIrEwE,EAJqE,KAIjDC,EAJiD,KAMtEC,EAAqB1E,eAAkB,WAC3CuE,GAAiBtD,KAChB,CAACA,EAAcsD,IAEZI,EAA2B3E,eAAkB,WACjDyE,GAAuBD,KACtB,CAACA,EAAoBC,IAGlBG,EAAcvD,EAAWf,SAASf,KAAI,SAACsF,GAC3C,OACE,qBAEE1E,UAAU,oCAFZ,SAIE,qBAAKA,UAAU,QAAf,SACE,cAACmE,EAAD,CAAOjD,WAAYwD,OAJhBA,EAAMjF,GAAKiF,EAAMC,WAU5B,OACE,qBAAK3E,UAAU,mBAAf,SACE,sBAAKA,UAAU,uBAAf,UACE,qBAAKA,UAAU,6BAAf,SACE,sBAAKA,UAAU,8CAAf,UACE,sBAAKA,UAAU,6DAAf,UACE,qBAAKE,QAASqE,EAAd,SACkC,IAA/BrD,EAAWf,SAASyE,OACnB,cAAC,EAAD,CAAc9D,aAAcA,IAC1B,OAEN,cAAC,EAAD,CAAWM,MAAOF,EAAW+B,OAC7B,qBAAK/C,QAASsE,EAAd,SACE,cAAC,EAAD,SAGJ,wBAAOxE,UAAU,wDAAjB,UACE,uBAAOA,UAAU,kCAAjB,SACE,cAAC,EAAD,MAEF,uBAAOA,UAAU,kDAAjB,mBACGkB,EAAW5B,eADd,aACG,EAAoBF,KAAI,SAACG,GAAD,OACvB,cAAC,WAAD,UACE,cAAC,EAAD,CACEA,OAAQA,KAFSA,EAAOE,GAAKF,EAAO2D,aAS9C,qBAAKlD,UAAU,uDAOnB,qBACEA,UAAS,UACPc,EAAe,QAAU,SADlB,iCADX,SAKG2D,UC5DEI,EAAqB,SAArBA,EACXC,GAEI,IADJrF,EACG,uDADiB,KAEpB,OAAOqF,EACJnF,QAAO,SAACN,GAAD,OAASA,EAAIsF,SAAWlF,KAC/BL,KAAI,SAAC2F,GAAD,mBAAC,eACDA,GADA,IAEH5E,SAAU0E,EAAcC,EAAMC,EAAQtF,UCpB/BuF,EAAO,WAAO,IAEXC,EADIpF,aAAiBD,GAA3Bf,MACAF,KAFgB,EAIwBkB,WAE9C,IANsB,mBAIjBqF,EAJiB,KAICC,EAJD,KAaxB,OAJAtF,aAAgB,WACdsF,EAAoBN,EAAcI,MACjC,CAACA,IAGF,cAAC,WAAD,UAC+B,IAA5BC,EAAiBN,QAChBM,EAAiB9F,KAAI,SAACT,GAAD,OACnB,8BACE,cAAC,EAAD,CAAMuC,WAAYvC,KADVA,EAAKc,GAAKd,EAAKsE,YCrBtBmC,EAAc,SAAC,GAAiD,IAA/CjF,EAA8C,EAA9CA,SACpBtB,EAAUgB,aAAiBD,GAA3Bf,MAER,MAAqB,cAAjBA,EAAML,QAA2C,YAAjBK,EAAML,OACjC,KAEA,cAAC,WAAD,UAAiB2B,KCJfkF,EAAS,SAAC,GAAiD,IAA/ClF,EAA8C,EAA9CA,SACvB,OACE,eAAC,WAAD,WACE,cAAC,EAAD,IACA,sBAAKH,UAAU,gEAAf,UACE,cAAC,EAAD,IACA,qBAAKA,UAAU,yCAAf,SAAyDG,IACzD,cAAC,EAAD,W,iBCPKmF,EAAoB,SAC/BxF,EACAnB,EACAH,GAIA,OAAI+G,OAAO/G,IAAW,KAAO+G,OAAO/G,GAAU,IACrCsB,EAAS,CACdf,KAAMT,EAAOU,iBACbC,QAASN,IAGJmB,EAAS,CACdf,KAAMT,EAAOY,iBACbD,QAASN,K,OCSA6G,EAvBU,SAACV,EAAkBxF,GAI1C,IAHA,IAAMmG,EAAK,YAAOX,GACZY,EAAQ,YAAOpG,GAFgD,WAI5DqG,GACP,IAAMC,EAAMH,EAAME,GAAGrG,QACrB,GAAIsG,EACF,IADQ,IAAD,WACEC,GACP,IAAMC,EAASJ,EAAS/F,QAAO,SAACJ,GAAD,OAAYA,EAAOE,KAAOmG,EAAIC,MAEzDC,EAAO,KACTF,EAAIC,GAAKC,EAAO,KAJXD,EAAI,EAAGA,EAAID,EAAIhB,OAAQiB,IAAM,EAA7BA,QAQTJ,EAAME,GAAN,2BAAgBF,EAAME,IAAtB,IAA0BrG,QAAS,MAX9BqG,EAAI,EAAGA,EAAIF,EAAMb,OAAQe,IAAM,EAA/BA,GAgBT,OAAOF,GClBHM,EAAWC,kEAEJC,EAAqB,SAAC,GAI5B,IAHL9F,EAGI,EAHJA,SAGI,EACsBN,aAAiBjB,EAASL,GADhD,mBACGM,EADH,KACUiB,EADV,KA4BJ,OAJAD,aAAgB,WAjBdqG,QAAQC,IAAI,CAHUC,IAAMC,IAAN,UAAaN,EAAb,mBACGK,IAAMC,IAAN,UAAaN,EAAb,eAGtBO,MAAK,SAACC,GACL,IAAMzB,EAAOyB,EAAS,GAAG5H,KACnBW,EAAUiH,EAAS,GAAG5H,KAEtBmH,EAASN,EAAiBV,EAAMxF,GAEhCL,EAAUuH,KAAKC,MAAMD,KAAKE,UAAUZ,IAG1CR,EAAkBxF,EAAUb,EAASsH,EAAS,GAAG/H,WAElDmI,OAAM,SAAClI,GACN6G,EAAkBxF,EAAUrB,QAM/B,IAGD,cAACmB,EAAcgH,SAAf,CAAwB/C,MAAO,CAAEhF,QAAOiB,YAAxC,SACGK,KC3BQ0G,MAZf,WACE,OACE,cAAC,EAAD,UACE,cAAC,EAAD,UACE,cAAC,EAAD,UACE,cAAC,EAAD,WCIKC,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBV,MAAK,YAAkD,IAA/CW,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHdO,IAASC,OACP,cAAC,aAAD,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BX,M","file":"static/js/main.90fc88da.chunk.js","sourcesContent":["import { CompositedModel, MemberModel } from \"model\";\n\n// global state\nexport type State = {\n  status: \"isLoading\" | \"success\" | \"failure\";\n  error?: string;\n  data: CompositedModel[] | [];\n};\n\n// action types\nexport enum ACTION {\n  FetchDataSuccess = \"FETCH_DATA_SUCCESS\",\n  FetchDataFailure = \"FETCH_DATA_FAILURE\",\n  EditMember = \"EDIT_MEMBER\",\n  AddMember = \"ADD_MEMBER\",\n  DELETE_MEMBER = \"DELETE_MEMBER\",\n  // ADD_ORG,\n  // DELETE_ORG,\n}\n\nexport type FetchSuccessAction = {\n  type: ACTION.FetchDataSuccess;\n  payload: CompositedModel[];\n};\n\nexport type FetchFailureAction = {\n  type: ACTION.FetchDataFailure;\n  payload: string;\n};\nexport type EditMemberAction = {\n  type: ACTION.EditMember;\n  payload: MemberModel;\n};\n\nexport type DeleteMemberAction = {\n  type: ACTION.DELETE_MEMBER;\n  payload: { id: string };\n};\n// type AddOrgAction = {\n//   type: ACTION.ADD_ORG;\n//   payload: OrgsProps;\n// };\n\n// type AddMemberAction = {\n//   type: ACTION.ADD_MEMBER;\n//   payload: MemProps;\n// };\n\n// type DeleteOrg = {\n//   type: ACTION.DELETE_ORG;\n//   payload: { id: string };\n// };\n\nexport type ActionTypes =\n  | FetchSuccessAction\n  | FetchFailureAction\n  | EditMemberAction\n  | DeleteMemberAction;\n// | AddOrgAction\n// | AddMemberAction\n// | DeleteOrg\n","import { overArgs } from \"lodash\";\nimport { CompositedModel, MemberModel } from \"model\";\nimport { clearConfigCache } from \"prettier\";\nimport { State, ActionTypes, ACTION } from \"state/types\";\n\nexport const initialState: State = {\n  status: \"isLoading\",\n  error: undefined,\n  data: [],\n};\n\nexport const reducer = (state: State, action: ActionTypes): State => {\n  switch (action.type) {\n    case ACTION.FetchDataSuccess: {\n      return {\n        ...state,\n        status: \"success\",\n        error: \"\",\n        data: action.payload,\n      };\n    }\n    case ACTION.FetchDataFailure: {\n      return {\n        ...state,\n        status: \"failure\",\n        error: action.payload,\n        data: [],\n      };\n    }\n    case ACTION.EditMember: {\n      return {\n        ...state,\n        // TODO: { members: (MemberModel[] | undefined)[]; how to omit the undefined?\n        // FIXME: works but ugly\n        data: state.data.map((org) => ({\n          ...org,\n          members: org.members?.map((member, index) =>\n            member.id === action.payload.id\n              ? (org.members[index] = action.payload)\n              : org.members[index]\n          ),\n        })),\n      };\n    }\n\n    case ACTION.DELETE_MEMBER: {\n      return {\n        ...state,\n        // tricky place, but ok now\n        data: state.data.map((org) => ({\n          ...org,\n          members: org.members?.filter(\n            (member) => member.id !== action.payload.id\n          ),\n        })),\n      };\n    }\n    default:\n      return state;\n  }\n};\n\n// org.members?.map((member, index) => {\n//   if (member.id === action.payload.id) {\n//     return org.members.splice(index, 1, action.payload);\n//   }\n// })\n","import * as React from \"react\";\n\nimport { State, ActionTypes } from \"state/types\";\nimport { initialState } from \"./reducer\";\n\nexport type AppContextType = {\n  state: State;\n  dispatch: React.Dispatch<ActionTypes>;\n};\n\nexport const GlobalContext = React.createContext<AppContextType>({\n  state: initialState,\n  dispatch: () => {},\n});\n","import * as React from \"react\";\n\nexport const Header: React.FC = () => {\n  return (\n    <nav className=\"md:flex hidden bg-gray-400 rounded-b-sm sticky top-0 w-full z-10 shadow md:flex-row md:flex-nowrap md:justify-start items-center p-2\">\n      <div className=\"w-full mx-auto items-center flex justify-between md:flex-nowrap flex-wrap px-4\">\n        <div className=\"text-xl hidden lg:inline-block font-semibold\">\n          Organization DashBoard\n        </div>\n        <div className=\"md:flex hidden flex-row items-center lg:ml-auto mr-3\">\n          <div className=\"relative flex w-full flex-wrap items-stretch h-8\" />\n        </div>\n      </div>\n    </nav>\n  );\n};\n","import * as React from \"react\";\n\n// Discriminated Union: If link is set onClick can't be set, and vice versa\ntype FooterLinkProps = {\n  onClick?: () => void;\n};\n\nexport const FooterLink: React.FC<FooterLinkProps> = ({\n  onClick,\n  children,\n}) => {\n  return (\n    <button\n      onClick={onClick}\n      className={`text-dark-700 dark:text-light-300hover:text-dark-300 dark:hover:text-light-500 text-sm font-semibold block py-1 px-3`}\n    >\n      {children}\n    </button>\n  );\n};\n","import { FooterLink } from \"components/footer/Links\";\nimport { FaGithub, FaTwitter } from \"react-icons/fa\";\n\nexport const Footer = () => {\n  return (\n    <footer className=\"sticky bg-gray-400 shadow-lg dark:bg-dark-700 bottom-0 block py-3 rounded-t-sm\">\n      <div className=\"container mx-auto\">\n        <div className=\"flex flex-wrap items-center md:justify-between justify-center\">\n          <div className=\"w-full md:w-4/12 px-4\">\n            <div className=\"text-sm text- font-semibold py-1 text-center md:text-left\">\n              Copyright © {new Date().getFullYear()}\n              <a\n                href=\"/\"\n                className=\"text-dark-700 dark:text-light-300 hover:text-dark-300 dark:hover:text-light-500 text-sm font-semibold p-1\"\n              >\n                Organizational Management\n              </a>\n            </div>\n          </div>\n          <div className=\"w-full md:w-8/12 px-4 mt-2 md:mt-0\">\n            <ul className=\"flex flex-wrap list-none md:justify-end justify-center\">\n              <li>\n                <FooterLink onClick={() => alert(\"Thank you\")}>\n                  <FaGithub size={20} />\n                </FooterLink>\n              </li>\n              <li>\n                <FooterLink onClick={() => alert(\"Thank you\")}>\n                  <FaTwitter size={20} />\n                </FooterLink>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n};\n","import * as React from \"react\";\nimport { FaDev, FaReact } from \"react-icons/fa\";\nimport { SiTypescript, SiTailwindcss } from \"react-icons/si\";\n\nexport const SideBar = () => {\n  return (\n    <aside className=\"md:left-0 md:block md:fixed md:top-0 md:bottom-0 md:overflow-y-auto shadow-2xl flex flex-col items-center justify-between w-12 z-40 bg-gray-400\">\n      <div className=\"md:flex-col md:items-stretch md:min-h-full px-0 flex items-center justify-center w-full mx-auto\">\n        {/* LOGO */}\n        <a\n          href=\"/\"\n          className=\"flex item-center justify-center py-2 cursor-pointer\"\n        >\n          <FaDev size={32} />\n        </a>\n        {/* Decorative Buttons */}\n        <div className=\"md:flex md:flex-col md:items-stretch md:relative md:mt-4 md:shadow-none shadow absolute top-0 left-0 right-0 z-40 overflow-y-auto overflow-x-hidden h-auto items-center flex-1 rounded\">\n          <SideIcon icon={<FaReact size={24} />} />\n          <SideIcon icon={<SiTypescript size={24} />} />\n          <SideIcon icon={<SiTailwindcss size={24} />} />\n        </div>\n      </div>\n    </aside>\n  );\n};\n\ninterface SideIconProps {\n  icon: React.ReactNode;\n}\n\nconst SideIcon = ({ icon }: SideIconProps) => (\n  <div className=\"sidebar-icon\">{icon}</div>\n);\n","import { FaArrowCircleRight } from \"react-icons/fa\";\n\nexport const ToggleButton = ({ showChildren }: { showChildren: boolean }) => {\n  return (\n    <div className=\"relative group\">\n      <div\n        className={`${\n          showChildren ? \"rotate-90\" : null\n        } cursor-pointer transform duration-300 hover:scale-110 hover:text-gray-500 text-gray-600 ml-3 pl-1`}\n      >\n        <FaArrowCircleRight size={32} />\n      </div>\n      <span\n        className={`${\n          showChildren ? null : \"group-hover:visible\"\n        } absolute text-gray-700 bg-gray-200 ring-2 invisible transition-opacity duration-500 ease-in-out opacity-0 group-hover:opacity-100 px-6  left-9 -top-14 rounded-md`}\n      >\n        Show Sub Organization\n      </span>\n    </div>\n  );\n};\n","import { FaUserPlus } from \"react-icons/fa\";\n\nexport const AddMemberButton = () => {\n  return (\n    <div className=\"relative group\">\n      <div className=\"transform duration-300 hover:scale-110 hover:text-green-500 text-green-600 ml-3 pl-1\">\n        <FaUserPlus size={32} />\n        <span\n          className={`group-hover:visible w-48 mx-6 py-3 absolute text-center text-gray-700 bg-gray-200 ring-2 invisible transition-opacity duration-500 ease-in-out opacity-0 group-hover:opacity-100 px-6  left-6 -top-8 rounded-md`}\n        >\n          Add New Member\n        </span>\n      </div>\n    </div>\n  );\n};\n","import { AiOutlineUsergroupAdd } from \"react-icons/ai\";\n\nexport const AddOrgButton = () => {\n  return (\n    <div className=\"relative group\">\n      <div className=\"transform duration-300 hover:scale-110 hover:text-green-500 text-green-600 pl-1\">\n        <AiOutlineUsergroupAdd size={42} />\n      </div>\n      <span\n        className={`group-hover:visible w-56 mx-2 py-3 absolute text-center text-gray-700 bg-gray-200 ring-2 invisible transition-opacity duration-500 ease-in-out opacity-0 group-hover:opacity-100 px-6  left-0 -top-14 rounded-md`}\n      >\n        Add New Sub Org\n      </span>\n    </div>\n  );\n};\n","import { ReadyForRenderModel } from \"model\";\nimport { CardTitle } from \"components/cards/CardTitle\";\nimport { Table } from \"components\";\nimport { AddOrgButton } from \"components/buttons\";\n\nexport const Card = ({ renderData }: { renderData: ReadyForRenderModel }) => {\n  return (\n    <div className=\"flex flex-row mx-3 my-2 mt-6 p-4 mb-12 bg-gray-200 rounded-lg\">\n      <div className=\"mt-6\">\n        <AddOrgButton />\n      </div>\n      <Table renderData={renderData} />\n    </div>\n  );\n};\n","export const CardTitle = ({ title }: { title: string }) => {\n  return (\n    <div className=\"py-3 px-4 rounded-t-sm align-baseline font-semibold text-2xl\">\n      {title}\n    </div>\n  );\n};\n","import React from \"react\";\n\nexport const TableHead = () => {\n  return (\n    <tr className=\"w-full grid grid-cols-9 gap-12\">\n      <th\n        scope=\"col\"\n        className=\"col-span-2 px-3 py-3 text-xs font-medium text-gray-700 uppercase tracking-wider\"\n      >\n        name\n      </th>\n      <th\n        scope=\"col\"\n        className=\"col-span-1 px-3 py-3 text-xs font-semibold text-gray-700 uppercase tracking-wider\"\n      >\n        age\n      </th>\n      <th\n        scope=\"col\"\n        className=\"col-span-2 px-3 py-3 text-xs font-semibold text-gray-700 uppercase tracking-wider\"\n      >\n        actived\n      </th>\n      <th\n        scope=\"col\"\n        className=\"col-span-2 px-3 py-3 text-xs font-semibold text-gray-700 uppercase tracking-wider\"\n      >\n        representation\n      </th>\n\n      <th\n        scope=\"col\"\n        className=\"col-span-2 px-3 py-3 text-xs font-semibold text-gray-700 uppercase tracking-wider\"\n      >\n        action\n      </th>\n    </tr>\n  );\n};\n","import * as React from \"react\";\nimport { Dialog, Transition } from \"@headlessui/react\";\nimport { GlobalContext } from \"state/context\";\nimport { ACTION } from \"state/types\";\nimport { FiAlertCircle } from \"react-icons/fi\";\n\ntype Props = {\n  showDeleteConfirm: boolean;\n  setShowDeleteConfirm: (state: boolean) => void;\n  id: string;\n};\n\nexport const DeleteConfirmModal = ({\n  showDeleteConfirm,\n  setShowDeleteConfirm,\n  id,\n}: Props) => {\n  const { dispatch } = React.useContext(GlobalContext);\n\n  const handleConfirmDelete = (id: string) => {\n    dispatch({ type: ACTION.DELETE_MEMBER, payload: { id } });\n    setShowDeleteConfirm(false);\n  };\n\n  const cancelButtonRef = React.useRef(null);\n  return (\n    <Transition.Root show={showDeleteConfirm} as={React.Fragment}>\n      <Dialog\n        as=\"div\"\n        className=\"fixed z-10 inset-0 overflow-y-auto\"\n        initialFocus={cancelButtonRef}\n        onClose={setShowDeleteConfirm}\n      >\n        <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n          <Transition.Child\n            as={React.Fragment}\n            enter=\"ease-out duration-300\"\n            enterFrom=\"opacity-0\"\n            enterTo=\"opacity-100\"\n            leave=\"ease-in duration-200\"\n            leaveFrom=\"opacity-100\"\n            leaveTo=\"opacity-0\"\n          >\n            <Dialog.Overlay className=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\" />\n          </Transition.Child>\n\n          <span\n            className=\"hidden sm:inline-block sm:align-middle sm:h-screen\"\n            aria-hidden=\"true\"\n          >\n            &#8203;\n          </span>\n          <Transition.Child\n            as={React.Fragment}\n            enter=\"ease-out duration-300\"\n            enterFrom=\"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95\"\n            enterTo=\"opacity-100 translate-y-0 sm:scale-100\"\n            leave=\"ease-in duration-200\"\n            leaveFrom=\"opacity-100 translate-y-0 sm:scale-100\"\n            leaveTo=\"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95\"\n          >\n            <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\n              <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\n                <div className=\"sm:flex sm:items-start py-3 px-1\">\n                  <div className=\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10\">\n                    <FiAlertCircle\n                      className=\"h-6 w-6 text-red-600\"\n                      aria-hidden=\"true\"\n                    />\n                  </div>\n                  <div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\n                    <Dialog.Title\n                      as=\"h3\"\n                      className=\"text-lg leading-6 font-medium text-gray-900\"\n                    >\n                      Delete Member\n                    </Dialog.Title>\n                    <div className=\"mt-2\">\n                      <p className=\"text-sm text-gray-500\">\n                        Are you sure you want to delete this member? This action\n                        cannot be undone.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\n                <button\n                  type=\"submit\"\n                  className=\"w-full inline-flex uppercase tracking-wide justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm\"\n                  onClick={() => handleConfirmDelete(id)}\n                >\n                  Delete\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"mt-3 w-full inline-flex uppercase tracking-wide justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm\"\n                  onClick={() => setShowDeleteConfirm(false)}\n                  ref={cancelButtonRef}\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </Transition.Child>\n        </div>\n      </Dialog>\n    </Transition.Root>\n  );\n};\n","import * as React from \"react\";\nimport { GlobalContext } from \"state/context\";\nimport { Dialog, Transition } from \"@headlessui/react\";\nimport { MemberModel } from \"model\";\nimport { useForm, SubmitHandler } from \"react-hook-form\";\nimport { ACTION } from \"state/types\";\n\ntype Props = {\n  showMemberModal: boolean;\n  setShowMemberModal: (state: boolean) => void;\n  member: MemberModel;\n};\n\nexport const EditMemberModal = ({\n  showMemberModal,\n  setShowMemberModal,\n  member,\n}: Props) => {\n  const { dispatch } = React.useContext(GlobalContext);\n\n  // 将需要修改的 member 信息 作为 defaultValue 传入useForm\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({\n    defaultValues: {\n      id: member.id,\n      name: member.name,\n      age: member.age,\n      status: member.status,\n    },\n  });\n\n  const handleEditedMemberSubmit: SubmitHandler<MemberModel> = (data) => {\n    setShowMemberModal(false);\n    dispatch({ type: ACTION.EditMember, payload: data });\n  };\n\n  const cancelButtonRef = React.useRef(null);\n  return (\n    <Transition.Root show={showMemberModal} as={React.Fragment}>\n      <Dialog\n        as=\"div\"\n        className=\"fixed z-10 inset-0 overflow-y-auto\"\n        initialFocus={cancelButtonRef}\n        onClose={setShowMemberModal}\n      >\n        <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n          <Transition.Child\n            as={React.Fragment}\n            enter=\"ease-out duration-300\"\n            enterFrom=\"opacity-0\"\n            enterTo=\"opacity-100\"\n            leave=\"ease-in duration-200\"\n            leaveFrom=\"opacity-100\"\n            leaveTo=\"opacity-0\"\n          >\n            <Dialog.Overlay className=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\" />\n          </Transition.Child>\n\n          {/* make the modal at screen center */}\n          <span\n            className=\"hidden sm:inline-block sm:align-middle sm:h-screen\"\n            aria-hidden=\"true\"\n          >\n            &#8203;\n          </span>\n          <Transition.Child\n            as={React.Fragment}\n            enter=\"ease-out duration-300\"\n            enterFrom=\"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95\"\n            enterTo=\"opacity-100 translate-y-0 sm:scale-100\"\n            leave=\"ease-in duration-200\"\n            leaveFrom=\"opacity-100 translate-y-0 sm:scale-100\"\n            leaveTo=\"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95\"\n          >\n            <div className=\"inline-block align-bottom bg-gray-50 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\n              <div className=\"mt-5 md:mt-0 md:col-span-2\">\n                <form onSubmit={handleSubmit(handleEditedMemberSubmit)}>\n                  <div className=\"px-4 py-5 bg-white sm:p-6 font-medium\">\n                    {\"Editing member is \"}\n                    {\": \"}\n                    <span className=\"text-lg\">{member.id}</span>\n                  </div>\n                  <div className=\"shadow overflow-hidden sm:rounded-md\">\n                    <div className=\"px-4 py-5 bg-white sm:p-6\">\n                      <div className=\"grid grid-cols-6 gap-6\">\n                        <div className=\"col-span-6 sm:col-span-3\">\n                          <label\n                            htmlFor=\"name\"\n                            className=\"block text-sm font-medium text-gray-700\"\n                          >\n                            {errors.name?.type === \"required\" ? (\n                              <span className=\"text-red-500 font-medium\">\n                                Name is required\n                              </span>\n                            ) : (\n                              \"Name\"\n                            )}\n                          </label>\n                          <input\n                            type=\"text\"\n                            id=\"name\"\n                            {...register(\"name\", {\n                              required: true,\n                              maxLength: 20,\n                            })}\n                            className=\"mt-1 focus:ring-yellow-500 focus:border-yellow-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md\"\n                          />\n                        </div>\n\n                        <div className=\"col-span-6 sm:col-span-3\">\n                          <label\n                            htmlFor=\"age\"\n                            className=\"block text-sm font-medium text-gray-700\"\n                          >\n                            {errors.age ? (\n                              <span className=\"text-red-500 font-medium\">\n                                Need to be above 18 below 99\n                              </span>\n                            ) : (\n                              \"Age\"\n                            )}\n                          </label>\n                          <input\n                            type=\"number\"\n                            id=\"age\"\n                            {...register(\"age\", {\n                              required: true,\n                              min: 18,\n                              max: 100,\n                            })}\n                            className=\"mt-1 focus:ring-yellow-500 focus:border-yellow-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md\"\n                          />\n                        </div>\n\n                        <div className=\"col-span-6 sm:col-span-3\">\n                          <label\n                            htmlFor=\"status\"\n                            className=\"block text-sm font-medium text-gray-700\"\n                          >\n                            Status\n                          </label>\n                          <select\n                            id=\"status\"\n                            {...register(\"status\")}\n                            className=\"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 sm:text-sm\"\n                          >\n                            <option value=\"activated\">Activated</option>\n                            <option value=\"inactivated\">Inactivated</option>\n                          </select>\n                        </div>\n\n                        <div className=\"col-span-6 sm:col-span-3\">\n                          <label\n                            htmlFor=\"role\"\n                            className=\"block text-sm font-medium text-gray-700\"\n                          >\n                            Role\n                          </label>\n                          <select\n                            id=\"role\"\n                            name=\"role\"\n                            autoComplete=\"\"\n                            className=\"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 sm:text-sm\"\n                          >\n                            <option>Member</option>\n                            <option>Representation</option>\n                          </select>\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"px-4 py-3 bg-gray-50 text-right sm:px-6\">\n                      <button\n                        type=\"submit\"\n                        className=\"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500\"\n                      >\n                        Save\n                      </button>\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </Transition.Child>\n        </div>\n      </Dialog>\n    </Transition.Root>\n  );\n};\n","import * as React from \"react\";\nimport { DeleteConfirmModal } from \"components/modal/DeleteConfirmModal\";\nimport { EditMemberModal } from \"components/modal/EditMemberModal\";\nimport { MemberModel } from \"model\";\n\nexport const DisplayRow = ({ member }: { member: MemberModel }) => {\n  const [showDeleteConfirm, setShowDeleteConfirm] = React.useState(false);\n  const [showEditMemberModal, setShowEditMemberModal] = React.useState(false);\n\n  return (\n    <tr className=\"w-full grid grid-cols-9 gap-12 bg-gray-50\">\n      <td className=\"col-span-2 px-3 py-4 whitespace-nowrap \">\n        <p className=\"flex items-center justify-center text-gray-500 font-medium\">\n          {member.name}\n        </p>\n      </td>\n      <td className=\"col-span-1 px-3 py-4 whitespace-nowrap bg-gray-50\">\n        <p className=\"flex items-center justify-center text-gray-500 font-medium\">\n          {member.age}\n        </p>\n      </td>\n      <td className=\"col-span-2 px-3 py-4 whitespace-nowrap bg-gray-50\">\n        <p className=\"flex items-center justify-center text-gray-500 font-medium\">\n          {member.status?.toLowerCase() === \"activated\" ? (\n            <span className=\"bg-green-100 text-green-600 px-4 py-1 rounded-full text-sm uppercase tracking-wide font-medium\">\n              activated\n            </span>\n          ) : (\n            <span className=\"bg-red-100 text-red-500 px-4 py-1 rounded-full text-sm uppercase tracking-wide font-medium\">\n              inactivated\n            </span>\n          )}\n        </p>\n      </td>\n      <td className=\"col-span-2 px-3 py-4 whitespace-nowrap bg-gray-50\">\n        <p className=\"flex items-center justify-center text-gray-500 font-medium\">\n          member\n        </p>\n      </td>\n      <td className=\"col-span-2 px-3 py-4 whitespace-nowrap bg-gray-50\">\n        <div className=\"flex flex-row space-x-6 items-center justify-center\">\n          <button\n            className=\"bg-green-100 text-green-600 px-4 py-1 rounded-full text-sm uppercase tracking-wide font-medium\"\n            type=\"button\"\n            onClick={() => setShowEditMemberModal(true)}\n          >\n            edit\n          </button>\n          <button\n            className=\"bg-red-100 text-red-500 px-4 py-1 rounded-full text-sm uppercase tracking-wide font-medium\"\n            type=\"button\"\n            onClick={() => setShowDeleteConfirm(true)}\n          >\n            delete\n          </button>\n          <EditMemberModal\n            showMemberModal={showEditMemberModal}\n            setShowMemberModal={setShowEditMemberModal}\n            member={member}\n          />\n          <DeleteConfirmModal\n            showDeleteConfirm={showDeleteConfirm}\n            setShowDeleteConfirm={setShowDeleteConfirm}\n            id={member.id}\n          />\n        </div>\n      </td>\n    </tr>\n  );\n};\n","import * as React from \"react\";\nimport { ReadyForRenderModel } from \"model\";\n\nimport { CardTitle } from \"components/cards/CardTitle\";\nimport { TableHead } from \"components/table/TableHead\";\nimport { DisplayRow } from \"components/table/DisplayRow\";\nimport { ToggleButton, AddMemberButton } from \"components/buttons\";\n\nexport const Table = ({ renderData }: { renderData: ReadyForRenderModel }) => {\n  // control the children orgs's expand and collapse\n  const [showChildren, setShowChildren] = React.useState(false);\n  // the AddMemberModal is on the each Orgs Card\n  const [showAddMemberModal, setShowAddMemberModal] = React.useState(false);\n\n  const handleChildrenShow = React.useCallback(() => {\n    setShowChildren(!showChildren);\n  }, [showChildren, setShowChildren]);\n\n  const handleAddMemberModalShow = React.useCallback(() => {\n    setShowAddMemberModal(!showAddMemberModal);\n  }, [showAddMemberModal, setShowAddMemberModal]);\n\n  // nested component\n  const nestedTable = renderData.children.map((child) => {\n    return (\n      <div\n        key={child.id + child.parent}\n        className=\"relative flex flex-col border-l-4\"\n      >\n        <div className=\"ml-12\">\n          <Table renderData={child as ReadyForRenderModel} />\n        </div>\n      </div>\n    );\n  });\n\n  return (\n    <div className=\"w-full pt-3 pb-1\">\n      <div className=\"mx-4 sm:mx-6 lg:mx-1\">\n        <div className=\"min-w-full sm:px-6 lg:px-2\">\n          <div className=\"shadow border border-gray-300 sm:rounded-lg\">\n            <div className=\"flex flex-row gap-3 items-center justify-start bg-gray-300\">\n              <div onClick={handleChildrenShow}>\n                {renderData.children.length !== 0 ? (\n                  <ToggleButton showChildren={showChildren} />\n                ) : null}\n              </div>\n              <CardTitle title={renderData.name} />\n              <div onClick={handleAddMemberModalShow}>\n                <AddMemberButton />\n              </div>\n            </div>\n            <table className=\"h-56 rounded-t-xl min-w-full divide-y divide-gray-300\">\n              <thead className=\"bg-gray-200 flex-col min-w-full\">\n                <TableHead />\n              </thead>\n              <tbody className=\"flex flex-col bg-white divide-y divide-gray-200\">\n                {renderData.members?.map((member) => (\n                  <React.Fragment key={member.id + member.age}>\n                    <DisplayRow\n                      member={member}\n                      // handleToEdit={handleToEdit}\n                    />\n                  </React.Fragment>\n                ))}\n              </tbody>\n            </table>\n            <div className=\"sticky bottom-0 py-1 rounded-b-lg bg-gray-300\" />\n          </div>\n          {/* <MemberModal\n            showMemberModal={showAddMemberModal}\n            setShowMemberModal={setShowAddMemberModal}\n          /> */}\n        </div>\n        <div\n          className={`${\n            showChildren ? \"block\" : \"hidden\"\n          } transition-all duration-1000`}\n        >\n          {nestedTable}\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { CompositedModel } from \"model\";\n\n// 将 已经组合好的原始数据，按照 parent 属性进行分类。\n// 组合成为一个循环嵌套的 数据类型，即，为organizations数组中的每一元素加一个children 数组，\n// 数组元素即为 id等于外层organization元素id的 另外一个 org 元素\n// 供组件进行递归渲染。\n\n// problem 如何组织成嵌套数据\n/**\n * @param orgs\n * @param id initial with null.\n * @returns nested data ready for rendering\n * important:  {...item, children: getRenderData(items, item.id)}\n * 对filter 出数组的每一个元素 递归调用本函数，(id=item.id)  作用：\n * 递归第一轮： 在原始数组中，筛选出跟 本元素id 一致的子元素，添加至children属性的数组中。\n * 递归的结束条件：无法在原始列表中， 筛出符合条件的元素。即， 此元素的parent值，找不到 id跟这个parent一样的元素。\n * 缺点： 慢，每一次filter 都遍历判断 整个列表的id和parent是否相等\n */\n// debug : org.parent = null XXX => org.parent === null <== debug is time killer!\nexport const getRenderData: any = (\n  orgs: CompositedModel[],\n  id: string | null = null\n) => {\n  return orgs\n    .filter((org) => org.parent === id)\n    .map((element) => ({\n      ...element,\n      children: getRenderData(orgs, element.id),\n    }));\n};\n","import * as React from \"react\";\nimport { GlobalContext } from \"state/context\";\n\nimport { Card } from \"components\";\nimport { getRenderData } from \"utils/getRenderData\";\nimport { ReadyForRenderModel } from \"model\";\n\nexport const Main = () => {\n  const { state } = React.useContext(GlobalContext);\n  const { data: renderOrgs } = state;\n\n  const [readyRenderDatas, setReadyRenderDatas] = React.useState<\n    ReadyForRenderModel[]\n  >([]);\n\n  // 调用utils/getRenderData 将state.data 组织成为一个tree型待渲染数据。\n  React.useEffect(() => {\n    setReadyRenderDatas(getRenderData(renderOrgs));\n  }, [renderOrgs]);\n\n  return (\n    <React.Fragment>\n      {readyRenderDatas.length !== 0 &&\n        readyRenderDatas.map((data) => (\n          <div key={data.id + data.name}>\n            <Card renderData={data} />\n          </div>\n        ))}\n    </React.Fragment>\n  );\n};\n","import * as React from \"react\";\nimport { GlobalContext } from \"state/context\";\n\nexport const MainWrapper = ({ children }: { children: React.ReactNode }) => {\n  const { state } = React.useContext(GlobalContext);\n\n  if (state.status === \"isLoading\" || state.status === \"failure\") {\n    return null;\n  } else {\n    return <React.Fragment>{children}</React.Fragment>;\n  }\n};\n","import * as React from \"react\";\nimport { Header } from \"components\";\nimport { SideBar } from \"components\";\nimport { Footer } from \"components\";\n\nexport const Layout = ({ children }: { children: React.ReactNode }) => {\n  return (\n    <React.Fragment>\n      <SideBar />\n      <div className=\"md:ml-12 bg-light-500 dark:bg-dark-500 h-screen overflow-auto\">\n        <Header />\n        <div className=\"w-full min-h-full space-y-4 bg-gray-50\">{children}</div>\n        <Footer />\n      </div>\n    </React.Fragment>\n  );\n};\n","import * as React from \"react\";\nimport { CompositedModel } from \"model\";\nimport { ACTION, ActionTypes } from \"state/types\";\n\n// 通过 从 AppContextProvider中  判断 传入的状态码， 执行不同的dispatch（以及相应数据）\nexport const fetchDataDispatch = (\n  dispatch: React.Dispatch<ActionTypes>,\n  data: CompositedModel[] | string,\n  status?: number\n) => {\n  // when after dispatch, the parent propertity turned to null.  why??\n  // I find the bug is in the getRenderData() func\n  if (Number(status) >= 200 && Number(status) < 400) {\n    return dispatch({\n      type: ACTION.FetchDataSuccess,\n      payload: data as CompositedModel[],\n    });\n  } else {\n    return dispatch({\n      type: ACTION.FetchDataFailure,\n      payload: data as string,\n    });\n  }\n};\n","import { OrgModel, MemberModel, CompositedModel } from \"model\";\n\n// 根据member-id 值， 将member数据完整赋值给orgs中members数组。\n// 集中处理一次数据，此数据作为渲染UI的原始数据\n// 方法比较蠢，凑合能用，以后用lodash优化\n// debug 时 模拟数据跟原始数据不一致，掉了不少头发，以后注意！！！\nconst getCompositeData = (orgs: OrgModel[], members: MemberModel[]) => {\n  const _orgs = [...orgs];\n  const _members = [...members];\n\n  for (let i = 0; i < _orgs.length; i++) {\n    const arr = _orgs[i].members;\n    if (arr) {\n      for (let j = 0; j < arr.length; j++) {\n        const result = _members.filter((member) => member.id === arr[j]);\n        // result[0] ? (arr[j] = result[0]) : null; this is not good\n        if (result[0]) {\n          arr[j] = result[0];\n        }\n      }\n    } else {\n      _orgs[i] = { ..._orgs[i], members: [] };\n    }\n  }\n\n  // todo: 返回的 数据 会丢失 parent 值 not good, but why?=> getRenderData()\n  return _orgs as CompositedModel[];\n};\n\nexport default getCompositeData;\n","import * as React from \"react\";\nimport axios from \"axios\";\nimport { OrgModel, MemberModel } from \"model\";\nimport { GlobalContext } from \"state/context\";\nimport { reducer, initialState } from \"state/reducer\";\nimport { fetchDataDispatch } from \"utils/dispatchHelpers\";\nimport getCompositeData from \"utils/getCompositeData\";\n\nconst BASE_URL = process.env.REACT_APP_API;\n\nexport const AppContextProvider = ({\n  children,\n}: {\n  children: React.ReactNode;\n}) => {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n\n  const requestData = () => {\n    const getOrgs = () => axios.get(`${BASE_URL}/organizations`);\n    const getMembers = () => axios.get(`${BASE_URL}/members`);\n\n    Promise.all([getOrgs(), getMembers()])\n      .then((response) => {\n        const orgs = response[0].data as OrgModel[];\n        const members = response[1].data as MemberModel[];\n\n        const result = getCompositeData(orgs, members);\n\n        const payload = JSON.parse(JSON.stringify(result));\n\n        // 将 useReducer 返回的 dispatch 和 组合好的数据 传入 下列工具函数，由工具函数 向reducer dispatch 相应的action和数据\n        fetchDataDispatch(dispatch, payload, response[0].status);\n      })\n      .catch((error) => {\n        fetchDataDispatch(dispatch, error);\n      });\n  };\n\n  React.useEffect(() => {\n    requestData();\n  }, []);\n\n  return (\n    <GlobalContext.Provider value={{ state, dispatch }}>\n      {children}\n    </GlobalContext.Provider>\n  );\n};\n","import { Main } from \"container/main/Main\";\nimport { MainWrapper } from \"container/main/MainWrapper\";\nimport { Layout } from \"components/layout/Layout\";\nimport { AppContextProvider } from \"container/contextProvider/AppContextProvider\";\n\nfunction App() {\n  return (\n    <AppContextProvider>\n      <Layout>\n        <MainWrapper>\n          <Main />\n        </MainWrapper>\n      </Layout>\n    </AppContextProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import * as React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"assets/index.css\";\nimport App from \"App\";\nimport reportWebVitals from \"reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}